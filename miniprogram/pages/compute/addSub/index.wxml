<view>
<!-- é€‰æ‹©ç•Œé¢ -->
<view wx:if="{{showWherePage==0}}" class="container">
    <h1>è¯·é€‰æ‹©å‡ºå¤šå°‘é“é¢˜ç›®å‘¢ï¼Ÿ</h1>
    <view class="selecter">
      <button type="{{currentTotal==10?'primary':'default'}}" data-total="10" bindtap="changeTotal">10</button>
      <button type="{{currentTotal==50?'primary':'default'}}" data-total="50" bindtap="changeTotal">50</button>
      <button type="{{currentTotal==100?'primary':'default'}}" data-total="100" bindtap="changeTotal">100</button>
      <button type="{{currentTotal==300?'primary':'default'}}" data-total="300" bindtap="changeTotal">300</button>
      <button type="{{currentTotal==500?'primary':'default'}}" data-total="500" bindtap="changeTotal">500</button>
      <button type="{{currentTotal==1000?'primary':'default'}}" data-total="1000" bindtap="changeTotal">1000</button>
    </view>

    <button id="startTest" type="primary" bindtap="startTest">æˆ‘ä»¬å¼€å§‹å§</button>
  </view>

  <view wx:if="{{showWherePage==1}}" class="container">

    <view class="progress-container">
      <view class="progress-info">
        <span>è¿›åº¦: <span id="progressText">{{currentIndex}}/{{currentTotal}}</span></span>
        <span>é”™è¯¯: <span id="wrongCount">{{wrongQuestions.length}}</span></span>
      </view>
      <view class="progress-bar">
        <view class="progress" style="width: {{(currentIndex / currentTotal) * 100}}%;">
          <view class="progress-icon">ğŸš€</view>
        </view>
      </view>
    </view>
       
        <!-- ç«–å¼è®¡ç®—åŒºåŸŸ -->
        <view class="vertical-equation">
            <!--è®¡ç®—åŠ¨ç”»æ¼”ç¤º -->
            <!-- <view class="number-row">
                <view class="digit-cell" style="border-color: #f8f9fa; font-size: 1rem;"  wx:for="{{processSteps}}" wx:key="index">
                  <text wx:if="item.carryOut">{{item.carryOut}}</text>
                  <text wx:if="item.borrowOut">{{item.borrowOut}}</text>
                  <text wx:if="item.value">{{item.value}}</text>
                </view>
            </view> -->

            <!--æ•°å­—1 -->
            <view class="number-row">
                <view wx:for="{{num1Array}}" wx:key="index" class="digit-cell {{index==num1Selected?'selected':''}}"  >{{item}}</view>
            </view>
            
            <!-- æ•°å­—2 -->
            <view class="number-row">
                <!-- è®¡ç®—ç¬¦å· -->
                <view class="digit-cell operator">{{operator}}</view>
                <view wx:for="{{num2Array}}" wx:key="index" class="digit-cell {{index==num2Selected ? 'selected' : '' }}"  >{{item}}</view>
            </view>
            
            <!-- æ¨ªçº¿ -->
            <view class="line"></view>
            
            <!-- ç»“æœè¾“å…¥åŒºåŸŸï¼ˆé€†å‘æ’åˆ—ï¼‰ -->
            <view class="result-inputs {{errorShake? ' shake' : ''}}">
                <input  wx:for="{{correctAnswerArray}}" wx:key="index" type="number" class="result-input" maxlength="1" data-val="{{item}}" data-index="{{index}}" placeholder="{{['ä¸ª','å','ç™¾','åƒ','ä¸‡'][index]}}" bindinput="inputChange" focus="{{inputFocus==index}}"  value="{{userAnswer}}" /> 
            </view>
        </view>


      <button id="nextQuestion" type="primary" bindtap="nextProblem">ä¸‹ä¸€é¢˜</button>
      <button bindtap="beginProcess" type="default" size="mini">è§£é¢˜è¿‡ç¨‹</button>
             <!--è®¡ç®—æ¼”ç¤º -->
        <view bind:tap="processOfProblem" wx:if="currentStep.description">{{currentStep.description}}  <text>ç‚¹å‡»çœ‹ä¸€æ­¥--></text></view>

      <view id="feedback">{{feedbackMessage}}</view>
	</view>

 <!-- é”™é¢˜æœ¬åŒºåŸŸ -->
 <view wx:if="{{showWherePage==2}}" class="container">
  <h1 class="title">ğŸ¶é”™é¢˜å°æœ¬æœ¬ğŸ“™</h1>
  
  <!-- è‡ªé€‚åº”é«˜åº¦å®¹å™¨ï¼ˆæ›¿ä»£scroll-viewï¼‰ -->
  <view class="questions-wrapper">
    <block wx:for="{{wrongQuestions}}" wx:key="index">
      <view class="question-card ">
        <view class="question-text">{{item.question}} {{item.correctAnswer}} ä½ çš„ç­”æ¡ˆï¼š {{item.yourAnswer}}</view>

      </view>
    </block>
  </view>
  
  <button class="restart-btn" open-type="getUserInfo" bindtap="restartQuiz">å†æ¥ä¸€æ¬¡ğŸ˜ </button>
</view>
</view>
